import{r as ct,j as p,c as xt,g as Et}from"./app-66c13518.js";import{d as bt}from"./index-55d39cac.js";import{H as Rt}from"./Header-c534d571.js";const Ot="_text_1wh2r_1",St="_notes_1wh2r_16",Dt="_sticky_notes_1wh2r_21",Tt="_right_side_buttons_1wh2r_47",At="_menu_buttons_1wh2r_55",Nt="_containerbackground_1wh2r_70",jt="_select_option_1wh2r_83",It="_box_1wh2r_91",Lt="_options_1wh2r_100",Ft="_option_button_1wh2r_107",Pt="_light_green_1wh2r_118",zt="_light_yellow_1wh2r_127",Ut="_light_purple_1wh2r_135",Mt="_light_grey_1wh2r_143",Bt="_light_orange_1wh2r_151",qt="_light_blue_1wh2r_160",Kt="_color_buttons_1wh2r_165",$t="_lower_buttons_1wh2r_172",Ht="_input_1wh2r_229",Wt="_vote_button_1wh2r_233",Vt="_vote_text_1wh2r_246",k={text:Ot,notes:St,sticky_notes:Dt,right_side_buttons:Tt,menu_buttons:At,containerbackground:Nt,select_option:jt,box:It,options:Lt,option_button:Ft,light_green:Pt,light_yellow:zt,light_purple:Ut,light_grey:Mt,light_orange:Bt,light_blue:qt,color_buttons:Kt,lower_buttons:$t,input:Ht,vote_button:Wt,vote_text:Vt};function Qt({text:M,color:F,selected:$,votes:d,onEditClick:B,onSingleClick:O,onVoteClick:N}){const[Y,a]=ct.useState(0);ct.useEffect(()=>{let P;return Y===1?P=setTimeout(()=>{O(),a(0)},300):Y===2&&(B(),a(0)),()=>clearTimeout(P)},[Y,$,O,B]);const Q=()=>{a(P=>P+1)},j=P=>{P.stopPropagation(),N()};return p.jsxs("div",{className:`${k.sticky_notes} ${k[F]} ${$?k.selected:""}}`,style:{opacity:$?.7:1},onClick:Q,children:[M,p.jsx("button",{className:k.vote_button,onClick:j,children:d})]})}var wt={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(M,F){(function($,d){M.exports=d()})(xt,function $(){var d=typeof self<"u"?self:typeof window<"u"?window:d!==void 0?d:{},B=!d.document&&!!d.postMessage,O=d.IS_PAPA_WORKER||!1,N={},Y=0,a={parse:function(e,t){var n=(t=t||{}).dynamicTyping||!1;if(f(n)&&(t.dynamicTypingFunction=n,n={}),t.dynamicTyping=n,t.transform=!!f(t.transform)&&t.transform,t.worker&&a.WORKERS_SUPPORTED){var r=function(){if(!a.WORKERS_SUPPORTED)return!1;var c=(q=d.URL||d.webkitURL||null,E=$.toString(),a.BLOB_URL||(a.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",E,")();"],{type:"text/javascript"})))),h=new d.Worker(c),q,E;return h.onmessage=it,h.id=Y++,N[h.id]=h}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=f(t.step),t.chunk=f(t.chunk),t.complete=f(t.complete),t.error=f(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var s=null;return a.NODE_STREAM_INPUT,typeof e=="string"?(e=function(c){return c.charCodeAt(0)===65279?c.slice(1):c}(e),s=t.download?new P(t):new y(t)):e.readable===!0&&f(e.read)&&f(e.on)?s=new T(t):(d.File&&e instanceof File||e instanceof Object)&&(s=new J(t)),s.stream(e)},unparse:function(e,t){var n=!1,r=!0,s=",",c=`\r
`,h='"',q=h+h,E=!1,o=null,S=!1;(function(){if(typeof t=="object"){if(typeof t.delimiter!="string"||a.BAD_DELIMITERS.filter(function(i){return t.delimiter.indexOf(i)!==-1}).length||(s=t.delimiter),(typeof t.quotes=="boolean"||typeof t.quotes=="function"||Array.isArray(t.quotes))&&(n=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(E=t.skipEmptyLines),typeof t.newline=="string"&&(c=t.newline),typeof t.quoteChar=="string"&&(h=t.quoteChar),typeof t.header=="boolean"&&(r=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");o=t.columns}t.escapeChar!==void 0&&(q=t.escapeChar+h),(typeof t.escapeFormulae=="boolean"||t.escapeFormulae instanceof RegExp)&&(S=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var l=new RegExp(b(h),"g");if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return ot(null,e,E);if(typeof e[0]=="object")return ot(o||Object.keys(e[0]),e,E)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||o),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),ot(e.fields||[],e.data||[],E);throw new Error("Unable to serialize unrecognized input");function ot(i,C,W){var R="";typeof i=="string"&&(i=JSON.parse(i)),typeof C=="string"&&(C=JSON.parse(C));var K=Array.isArray(i)&&0<i.length,z=!Array.isArray(C[0]);if(K&&r){for(var U=0;U<i.length;U++)0<U&&(R+=s),R+=H(i[U],U);0<C.length&&(R+=c)}for(var u=0;u<C.length;u++){var _=K?i.length:C[u].length,w=!1,L=K?Object.keys(C[u]).length===0:C[u].length===0;if(W&&!K&&(w=W==="greedy"?C[u].join("").trim()==="":C[u].length===1&&C[u][0].length===0),W==="greedy"&&K){for(var m=[],V=0;V<_;V++){var D=z?i[V]:V;m.push(C[u][D])}w=m.join("").trim()===""}if(!w){for(var v=0;v<_;v++){0<v&&!L&&(R+=s);var at=K&&z?i[v]:v;R+=H(C[u][at],v)}u<C.length-1&&(!W||0<_&&!L)&&(R+=c)}}return R}function H(i,C){if(i==null)return"";if(i.constructor===Date)return JSON.stringify(i).slice(1,25);var W=!1;S&&typeof i=="string"&&S.test(i)&&(i="'"+i,W=!0);var R=i.toString().replace(l,q);return(W=W||n===!0||typeof n=="function"&&n(i,C)||Array.isArray(n)&&n[C]||function(K,z){for(var U=0;U<z.length;U++)if(-1<K.indexOf(z[U]))return!0;return!1}(R,a.BAD_DELIMITERS)||-1<R.indexOf(s)||R.charAt(0)===" "||R.charAt(R.length-1)===" ")?h+R+h:R}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!B&&!!d.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=Z,a.ParserHandle=G,a.NetworkStreamer=P,a.FileStreamer=J,a.StringStreamer=y,a.ReadableStreamStreamer=T,d.jQuery){var Q=d.jQuery;Q.fn.parse=function(e){var t=e.config||{},n=[];return this.each(function(c){if(!(Q(this).prop("tagName").toUpperCase()==="INPUT"&&Q(this).attr("type").toLowerCase()==="file"&&d.FileReader)||!this.files||this.files.length===0)return!0;for(var h=0;h<this.files.length;h++)n.push({file:this.files[h],inputElem:this,instanceConfig:Q.extend({},t)})}),r(),this;function r(){if(n.length!==0){var c,h,q,E,o=n[0];if(f(e.before)){var S=e.before(o.file,o.inputElem);if(typeof S=="object"){if(S.action==="abort")return c="AbortError",h=o.file,q=o.inputElem,E=S.reason,void(f(e.error)&&e.error({name:c},h,q,E));if(S.action==="skip")return void s();typeof S.config=="object"&&(o.instanceConfig=Q.extend(o.instanceConfig,S.config))}else if(S==="skip")return void s()}var l=o.instanceConfig.complete;o.instanceConfig.complete=function(ot){f(l)&&l(ot,o.file,o.inputElem),s()},a.parse(o.file,o.instanceConfig)}else f(e.complete)&&e.complete()}function s(){n.splice(0,1),r()}}}function j(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var n=st(t);n.chunkSize=parseInt(n.chunkSize),t.step||t.chunk||(n.chunkSize=null),this._handle=new G(n),(this._handle.streamer=this)._config=n}).call(this,e),this.parseChunk=function(t,n){if(this.isFirstChunk&&f(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);r!==void 0&&(t=r)}this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+t;this._partialLine="";var c=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var h=c.meta.cursor;this._finished||(this._partialLine=s.substring(h-this._baseIndex),this._baseIndex=h),c&&c.data&&(this._rowCount+=c.data.length);var q=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(O)d.postMessage({results:c,workerId:a.WORKER_ID,finished:q});else if(f(this._config.chunk)&&!n){if(this._config.chunk(c,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);c=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(c.data),this._completeResults.errors=this._completeResults.errors.concat(c.errors),this._completeResults.meta=c.meta),this._completed||!q||!f(this._config.complete)||c&&c.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),q||c&&c.meta.paused||this._nextChunk(),c}this._halted=!0},this._sendError=function(t){f(this._config.error)?this._config.error(t):O&&this._config.error&&d.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function P(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),j.call(this,e),this._nextChunk=B?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(n){this._input=n,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),B||(t.onload=X(this._chunkLoaded,this),t.onerror=X(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!B),this._config.downloadRequestHeaders){var n=this._config.downloadRequestHeaders;for(var r in n)t.setRequestHeader(r,n[r])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{t.send(this._config.downloadRequestBody)}catch(c){this._chunkError(c.message)}B&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(n){var r=n.getResponseHeader("Content-Range");return r===null?-1:parseInt(r.substring(r.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(n){var r=t.statusText||n;this._sendError(new Error(r))}}function J(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),j.call(this,e);var r=typeof FileReader<"u";this.stream=function(s){this._input=s,n=s.slice||s.webkitSlice||s.mozSlice,r?((t=new FileReader).onload=X(this._chunkLoaded,this),t.onerror=X(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var s=this._input;if(this._config.chunkSize){var c=Math.min(this._start+this._config.chunkSize,this._input.size);s=n.call(s,this._start,c)}var h=t.readAsText(s,this._config.encoding);r||this._chunkLoaded({target:{result:h}})},this._chunkLoaded=function(s){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(s.target.result)},this._chunkError=function(){this._sendError(t.error)}}function y(e){var t;j.call(this,e=e||{}),this.stream=function(n){return t=n,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var n,r=this._config.chunkSize;return r?(n=t.substring(0,r),t=t.substring(r)):(n=t,t=""),this._finished=!t,this.parseChunk(n)}}}function T(e){j.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){j.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){j.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(s){this._input=s,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=X(function(s){try{t.push(typeof s=="string"?s:s.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(c){this._streamError(c)}},this),this._streamError=X(function(s){this._streamCleanUp(),this._sendError(s)},this),this._streamEnd=X(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function G(e){var t,n,r,s=Math.pow(2,53),c=-s,h=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,E=this,o=0,S=0,l=!1,ot=!1,H=[],i={data:[],errors:[],meta:{}};if(f(e.step)){var C=e.step;e.step=function(u){if(i=u,K())R();else{if(R(),i.data.length===0)return;o+=u.data.length,e.preview&&o>e.preview?n.abort():(i.data=i.data[0],C(i,E))}}}function W(u){return e.skipEmptyLines==="greedy"?u.join("").trim()==="":u.length===1&&u[0].length===0}function R(){return i&&r&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(i.data=i.data.filter(function(u){return!W(u)})),K()&&function(){if(!i)return;function u(w,L){f(e.transformHeader)&&(w=e.transformHeader(w,L)),H.push(w)}if(Array.isArray(i.data[0])){for(var _=0;K()&&_<i.data.length;_++)i.data[_].forEach(u);i.data.splice(0,1)}else i.data.forEach(u)}(),function(){if(!i||!e.header&&!e.dynamicTyping&&!e.transform)return i;function u(w,L){var m,V=e.header?{}:[];for(m=0;m<w.length;m++){var D=m,v=w[m];e.header&&(D=m>=H.length?"__parsed_extra":H[m]),e.transform&&(v=e.transform(v,D)),v=z(D,v),D==="__parsed_extra"?(V[D]=V[D]||[],V[D].push(v)):V[D]=v}return e.header&&(m>H.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+m,S+L):m<H.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+m,S+L)),V}var _=1;return!i.data.length||Array.isArray(i.data[0])?(i.data=i.data.map(u),_=i.data.length):i.data=u(i.data,0),e.header&&i.meta&&(i.meta.fields=H),S+=_,i}()}function K(){return e.header&&H.length===0}function z(u,_){return w=u,e.dynamicTypingFunction&&e.dynamicTyping[w]===void 0&&(e.dynamicTyping[w]=e.dynamicTypingFunction(w)),(e.dynamicTyping[w]||e.dynamicTyping)===!0?_==="true"||_==="TRUE"||_!=="false"&&_!=="FALSE"&&(function(L){if(h.test(L)){var m=parseFloat(L);if(c<m&&m<s)return!0}return!1}(_)?parseFloat(_):q.test(_)?new Date(_):_===""?null:_):_;var w}function U(u,_,w,L){var m={type:u,code:_,message:w};L!==void 0&&(m.row=L),i.errors.push(m)}this.parse=function(u,_,w){var L=e.quoteChar||'"';if(e.newline||(e.newline=function(D,v){D=D.substring(0,1048576);var at=new RegExp(b(v)+"([^]*?)"+b(v),"gm"),tt=(D=D.replace(at,"")).split("\r"),lt=D.split(`
`),ht=1<lt.length&&lt[0].length<tt[0].length;if(tt.length===1||ht)return`
`;for(var et=0,x=0;x<tt.length;x++)tt[x][0]===`
`&&et++;return et>=tt.length/2?`\r
`:"\r"}(u,L)),r=!1,e.delimiter)f(e.delimiter)&&(e.delimiter=e.delimiter(u),i.meta.delimiter=e.delimiter);else{var m=function(D,v,at,tt,lt){var ht,et,x,A;lt=lt||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var gt=0;gt<lt.length;gt++){var g=lt[gt],vt=0,dt=0,mt=0;x=void 0;for(var ft=new Z({comments:tt,delimiter:g,newline:v,preview:10}).parse(D),pt=0;pt<ft.data.length;pt++)if(at&&W(ft.data[pt]))mt++;else{var _t=ft.data[pt].length;dt+=_t,x!==void 0?0<_t&&(vt+=Math.abs(_t-x),x=_t):x=_t}0<ft.data.length&&(dt/=ft.data.length-mt),(et===void 0||vt<=et)&&(A===void 0||A<dt)&&1.99<dt&&(et=vt,ht=g,A=dt)}return{successful:!!(e.delimiter=ht),bestDelimiter:ht}}(u,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);m.successful?e.delimiter=m.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),i.meta.delimiter=e.delimiter}var V=st(e);return e.preview&&e.header&&V.preview++,t=u,n=new Z(V),i=n.parse(t,_,w),R(),l?{meta:{paused:!0}}:i||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,n.abort(),t=f(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){E.streamer._halted?(l=!1,E.streamer.parseChunk(t,!0)):setTimeout(E.resume,3)},this.aborted=function(){return ot},this.abort=function(){ot=!0,n.abort(),i.meta.aborted=!0,f(e.complete)&&e.complete(i),t=""}}function b(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z(e){var t,n=(e=e||{}).delimiter,r=e.newline,s=e.comments,c=e.step,h=e.preview,q=e.fastMode,E=t=e.quoteChar===void 0||e.quoteChar===null?'"':e.quoteChar;if(e.escapeChar!==void 0&&(E=e.escapeChar),(typeof n!="string"||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),s===n)throw new Error("Comment character same as delimiter");s===!0?s="#":(typeof s!="string"||-1<a.BAD_DELIMITERS.indexOf(s))&&(s=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var o=0,S=!1;this.parse=function(l,ot,H){if(typeof l!="string")throw new Error("Input must be a string");var i=l.length,C=n.length,W=r.length,R=s.length,K=f(c),z=[],U=[],u=[],_=o=0;if(!l)return nt();if(e.header&&!ot){var w=l.split(r)[0].split(n),L=[],m={},V=!1;for(var D in w){var v=w[D];f(e.transformHeader)&&(v=e.transformHeader(v,D));var at=v,tt=m[v]||0;for(0<tt&&(V=!0,at=v+"_"+tt),m[v]=tt+1;L.includes(at);)at=at+"_"+tt;L.push(at)}if(V){var lt=l.split(r);lt[0]=L.join(n),l=lt.join(r)}}if(q||q!==!1&&l.indexOf(t)===-1){for(var ht=l.split(r),et=0;et<ht.length;et++){if(u=ht[et],o+=u.length,et!==ht.length-1)o+=r.length;else if(H)return nt();if(!s||u.substring(0,R)!==s){if(K){if(z=[],mt(u.split(n)),kt(),S)return nt()}else mt(u.split(n));if(h&&h<=et)return z=z.slice(0,h),nt(!0)}}return nt()}for(var x=l.indexOf(n,o),A=l.indexOf(r,o),gt=new RegExp(b(E)+b(t),"g"),g=l.indexOf(t,o);;)if(l[o]!==t)if(s&&u.length===0&&l.substring(o,o+R)===s){if(A===-1)return nt();o=A+W,A=l.indexOf(r,o),x=l.indexOf(n,o)}else if(x!==-1&&(x<A||A===-1))u.push(l.substring(o,x)),o=x+C,x=l.indexOf(n,o);else{if(A===-1)break;if(u.push(l.substring(o,A)),_t(A+W),K&&(kt(),S))return nt();if(h&&z.length>=h)return nt(!0)}else for(g=o,o++;;){if((g=l.indexOf(t,g+1))===-1)return H||U.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:z.length,index:o}),pt();if(g===i-1)return pt(l.substring(o,g).replace(gt,t));if(t!==E||l[g+1]!==E){if(t===E||g===0||l[g-1]!==E){x!==-1&&x<g+1&&(x=l.indexOf(n,g+1)),A!==-1&&A<g+1&&(A=l.indexOf(r,g+1));var vt=ft(A===-1?x:Math.min(x,A));if(l.substr(g+1+vt,C)===n){u.push(l.substring(o,g).replace(gt,t)),l[o=g+1+vt+C]!==t&&(g=l.indexOf(t,o)),x=l.indexOf(n,o),A=l.indexOf(r,o);break}var dt=ft(A);if(l.substring(g+1+dt,g+1+dt+W)===r){if(u.push(l.substring(o,g).replace(gt,t)),_t(g+1+dt+W),x=l.indexOf(n,o),g=l.indexOf(t,o),K&&(kt(),S))return nt();if(h&&z.length>=h)return nt(!0);break}U.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:z.length,index:o}),g++}}else g++}return pt();function mt(rt){z.push(rt),_=o}function ft(rt){var Ct=0;if(rt!==-1){var yt=l.substring(g+1,rt);yt&&yt.trim()===""&&(Ct=yt.length)}return Ct}function pt(rt){return H||(rt===void 0&&(rt=l.substring(o)),u.push(rt),o=i,mt(u),K&&kt()),nt()}function _t(rt){o=rt,mt(u),u=[],A=l.indexOf(r,o)}function nt(rt){return{data:z,errors:U,meta:{delimiter:n,linebreak:r,aborted:S,truncated:!!rt,cursor:_+(ot||0)}}}function kt(){c(nt()),z=[],U=[]}},this.abort=function(){S=!0},this.getCharIndex=function(){return o}}function it(e){var t=e.data,n=N[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var s={abort:function(){r=!0,ut(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(f(n.userStep)){for(var c=0;c<t.results.data.length&&(n.userStep({data:t.results.data[c],errors:t.results.errors,meta:t.results.meta},s),!r);c++);delete t.results}else f(n.userChunk)&&(n.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!r&&ut(t.workerId,t.results)}function ut(e,t){var n=N[e];f(n.userComplete)&&n.userComplete(t),n.terminate(),delete N[e]}function I(){throw new Error("Not implemented.")}function st(e){if(typeof e!="object"||e===null)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=st(e[n]);return t}function X(e,t){return function(){e.apply(t,arguments)}}function f(e){return typeof e=="function"}return O&&(d.onmessage=function(e){var t=e.data;if(a.WORKER_ID===void 0&&t&&(a.WORKER_ID=t.workerId),typeof t.input=="string")d.postMessage({workerId:a.WORKER_ID,results:a.parse(t.input,t.config),finished:!0});else if(d.File&&t.input instanceof File||t.input instanceof Object){var n=a.parse(t.input,t.config);n&&d.postMessage({workerId:a.WORKER_ID,results:n,finished:!0})}}),(P.prototype=Object.create(j.prototype)).constructor=P,(J.prototype=Object.create(j.prototype)).constructor=J,(y.prototype=Object.create(y.prototype)).constructor=y,(T.prototype=Object.create(j.prototype)).constructor=T,a})})(wt);var Jt=wt.exports;const Gt=Et(Jt);function Yt({setNotes:M,isSelectOptionVisible:F,setIsSelectOptionVisible:$,setNoteIndex:d,title:B,boardId:O,notes:N}){const Y=()=>{$(!F),d(-1)},a=()=>{console.log("board_id:",O),M([]),bt.Inertia.delete(`/notes/truncate/${O}`)},Q=y=>Gt.unparse(y),j=()=>{const y=["text","color","votes","selected"],G=N.map(st=>{const X={};return y.forEach(f=>{X[f]=st[f]}),X}).filter(st=>st.selected),b=G.length>0?G:N,Z=Q(b),it=new Blob([Z],{type:"text/csv;charset=utf-8;"}),ut="notes.csv",I=document.createElement("a");if(I.download!==void 0){const st=URL.createObjectURL(it);I.setAttribute("href",st),I.setAttribute("download",ut),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)}};function P(y){const T=y.split(`
`),G=[];for(let b=1;b<T.length;b++){const[Z,it,ut]=T[b].split(","),I=parseInt(ut,10)||0;G.push({text:Z,color:it,selected:!1,votes:I,board_id:O})}return G}const J=y=>{const T=y.target.files[0];if(!T)return;const G=new FileReader;G.onload=b=>{const Z=b.target.result,ut=P(Z).map(async I=>(bt.Inertia.post("/notes",I),I));Promise.all(ut).then(I=>{M([...N,...I])})},console.log(N),G.readAsText(T)};return p.jsxs("div",{className:k.right_side_buttons,children:[p.jsx("button",{id:"create_button",className:k.menu_buttons,onClick:Y,children:"Create Sticky"}),p.jsx("button",{id:"clear_board_button",className:k.menu_buttons,onClick:a,children:"Clear Board"}),p.jsx("button",{id:"export_button",className:k.menu_buttons,onClick:j,children:"Export CSV"}),p.jsx("button",{id:"import_button",className:k.menu_buttons,onClick:()=>document.getElementById("input_file").click(),children:"Import CSV"}),p.jsx("input",{className:k.input,type:"file",id:"input_file",accept:".csv",onChange:J})]})}function Zt({setColor:M}){const F=$=>{const d=$.target.id;M(d)};return p.jsxs("div",{className:k.options,children:[p.jsx("button",{id:"light_green",className:k.option_button,onClick:F}),p.jsx("button",{id:"light_yellow",className:k.option_button,onClick:F}),p.jsx("button",{id:"light_purple",className:k.option_button,onClick:F}),p.jsx("button",{id:"light_grey",className:k.option_button,onClick:F}),p.jsx("button",{id:"light_orange",className:k.option_button,onClick:F}),p.jsx("button",{id:"light_blue",className:k.option_button,onClick:F})]})}function Xt({notes:M,setNotes:F,title:$,boardId:d,votes:B,noteIndex:O,setNoteIndex:N,text:Y,setText:a,color:Q,setColor:j,selected:P,setIsSelectOptionVisible:J}){const y=()=>{if(O===-1){if(Y.trim()){const b={text:Y,color:Q,selected:P,votes:B,board_id:d};bt.Inertia.post("/notes",b)}}else{const b=[...M];b[O]={text:Y,color:Q,selected:P,votes:B},bt.Inertia.put(`/notes/${M[O].id}`,b[O]),a(""),j("light_green"),N(-1),J(!1)}};function T(b){bt.Inertia.delete(`/notes/${b}`)}const G=()=>{if(O===-1)a(""),j("light_green"),J(!1);else{T(M[O].id);const b=M.filter((Z,it)=>it!==O);F(b),a(""),j("light_green"),N(-1),J(!1)}};return p.jsxs("div",{className:k.color_buttons,children:[p.jsx("button",{id:"OK_button",className:k.lower_buttons,onClick:y,children:"OK"}),p.jsx("button",{id:"delete_button",className:k.lower_buttons,onClick:G,children:"DELETE"})]})}function re({notes:M}){const[F,$]=ct.useState(!1),[d,B]=ct.useState(""),[O,N]=ct.useState("light_green"),[Y,a]=ct.useState(!1),[Q,j]=ct.useState(0),[P,J]=ct.useState(-1),[y,T]=ct.useState(M||[]),b=new URL(window.location.href).pathname.split("/"),Z=b.pop(),it=b.pop();ct.useEffect(()=>{T(M),B(""),N("light_green"),$(!1)},[M]);const ut=e=>{const t=y[e];B(t.text),N(t.color),a(t.selected),j(t.votes),J(e),$(!0)},I=e=>{const t=y.map((n,r)=>r===e?{...n,selected:!n.selected}:n);T(t),bt.Inertia.put(`/notes/${y[e].id}`,t[e])},st=e=>{const t=y.map((n,r)=>r===e?{...n,votes:n.votes+1}:n);bt.Inertia.put(`/notes/${y[e].id}`,t[e]),T(t)},X={setNotes:T,isSelectOptionVisible:F,setIsSelectOptionVisible:$,setNoteIndex:J,title:it,boardId:Z,notes:y},f={notes:y,setNotes:T,title:it,boardId:Z,votes:Q,noteIndex:P,setNoteIndex:J,text:d,setText:B,color:O,setColor:N,selected:Y,setIsSelectOptionVisible:$};return p.jsxs(p.Fragment,{children:[p.jsx(Rt,{}),p.jsx(Yt,{...X}),p.jsx("div",{className:k.containerbackground,children:p.jsx("p",{children:"Yonko's Design Thinking App"})}),p.jsxs("main",{children:[p.jsx("div",{className:k.notes,children:y.map((e,t)=>p.jsx(Qt,{text:e.text,color:e.color,selected:e.selected,votes:e.votes,onEditClick:()=>ut(t),onSingleClick:()=>I(t),onVoteClick:()=>st(t)},t))}),F&&p.jsx("div",{className:k.select_option,children:p.jsx("textarea",{className:`${k.box} ${k[O]}`,value:d,onChange:e=>B(e.target.value)})}),F&&p.jsx(Zt,{setColor:N}),F&&p.jsx(Xt,{...f})]})]})}export{re as default};
